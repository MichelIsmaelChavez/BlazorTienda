@namespace BlazorTienda.Components

<div style="position:fixed; bottom:20px; right:20px;">
    <button @onclick="ToggleChat" class="btn btn-success">
        @(_mostrarChat ? "X" : "¿Ayuda?")
    </button>

    @if (_mostrarChat)
    {
        <div class="card mt-2" style="width:250px;">
            <div class="card-body">
                <textarea @bind="_mensaje" class="form-control mb-2"
                          placeholder="Escribe tu duda..."></textarea>
                <button @onclick="Enviar" class="btn btn-sm btn-primary">
                    Enviar
                </button>
            </div>
        </div>
    }
</div>

@code {
    private bool _mostrarChat = false;
    private string _mensaje = "";

    private void ToggleChat() => _mostrarChat = !_mostrarChat;

    private void Enviar()
    {
        if (!string.IsNullOrWhiteSpace(_mensaje))
        {
            Console.WriteLine($"Consulta: {_mensaje}"); // Reemplaza con tu lógica
            _mensaje = "";
            _mostrarChat = false;
        }
    }
}
